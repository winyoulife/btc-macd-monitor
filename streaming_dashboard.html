<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>ğŸš€ BTC Live Streaming Analysis | BTCå³æ™‚ç›´æ’­åˆ†æ</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background: linear-gradient(135deg, #0a0a2e, #1a1a3e, #16213e);
            color: #00ff88;
            font-family: 'Courier New', monospace;
            overflow: hidden;
            height: 100vh;
        }
        
        .streaming-layout {
            display: grid;
            grid-template-columns: 2fr 1fr;
            grid-template-rows: 1fr;
            height: 100vh;
            gap: 0;
        }
        
        .dashboard-panel {
            background: rgba(0,0,0,0.8);
            padding: 10px;
            overflow-y: auto;
        }
        
        .streaming-panel {
            background: rgba(0,0,0,0.9);
            border-left: 3px solid #00ff88;
            display: flex;
            flex-direction: column;
        }
        
        .stream-header {
            background: linear-gradient(90deg, #000, #1a1a2e, #000);
            padding: 15px;
            text-align: center;
            border-bottom: 2px solid #00ff88;
        }
        
        .stream-title {
            font-size: 1.2em;
            color: #ffaa00;
            margin-bottom: 8px;
        }
        
        .stream-status {
            font-size: 0.9em;
            color: #00ff88;
        }
        
        .restream-embed {
            flex: 1;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        .embed-placeholder {
            width: 100%;
            height: 300px;
            background: rgba(255,255,255,0.1);
            border: 2px dashed #00ff88;
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            margin-bottom: 20px;
        }
        
        .embed-instructions {
            color: #ffaa00;
            font-size: 0.9em;
            line-height: 1.4;
            margin-bottom: 15px;
        }
        
        .stream-controls {
            padding: 20px;
            border-top: 1px solid #333;
        }
        
        .control-button {
            width: 100%;
            padding: 12px;
            margin: 8px 0;
            background: linear-gradient(45deg, #00ff88, #00cc66);
            color: #000;
            border: none;
            border-radius: 6px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .control-button:hover {
            background: linear-gradient(45deg, #00cc66, #009944);
            transform: translateY(-2px);
        }
        
        .dashboard-content {
            transform: scale(0.85);
            transform-origin: top left;
            width: 117.6%;
            height: 117.6%;
        }
        
        /* å¾åŸå§‹å„€è¡¨æ¿è¤‡è£½çš„æ¨£å¼ */
        .price-header {
            background: linear-gradient(90deg, #000, #1a1a2e, #000);
            padding: 8px 0;
            text-align: center;
            border-bottom: 2px solid #00ff88;
            box-shadow: 0 3px 10px rgba(0,255,136,0.3);
        }
        
        .price-title {
            font-size: 1.0em;
            color: #ffaa00;
            margin-bottom: 8px;
        }
        
        .main-price {
            font-size: 1.5em;
            font-weight: bold;
            text-shadow: 0 0 15px #00ff88;
            animation: priceGlow 2s ease-in-out infinite alternate;
        }
        
        @keyframes priceGlow {
            from { text-shadow: 0 0 15px #00ff88; }
            to { text-shadow: 0 0 25px #00ff88, 0 0 35px #00ff88; }
        }
        
        .technical-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
            padding: 10px;
        }
        
        .indicator-card {
            background: rgba(255,255,255,0.05);
            border: 1px solid #333;
            border-radius: 4px;
            padding: 8px;
            text-align: center;
        }
        
        .indicator-name {
            font-size: 0.8em;
            color: #00ff88;
            margin-bottom: 4px;
        }
        
        .indicator-value {
            font-size: 0.9em;
            color: #fff;
            font-weight: bold;
        }
        
        .status-live {
            background: #00ff00;
            animation: blink 1s ease-in-out infinite;
        }
        
        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0.3; }
        }
    </style>
</head>
<body>
    <div class="streaming-layout">
        <!-- å·¦å´ï¼šå„€è¡¨æ¿é¢æ¿ -->
        <div class="dashboard-panel">
            <div class="dashboard-content">
                <!-- åƒ¹æ ¼é ‚éƒ¨ -->
                <div class="price-header">
                    <div class="price-title">ğŸ’ Bitcoin Live Analysis | æ¯”ç‰¹å¹£å³æ™‚åˆ†æ</div>
                    <div class="main-price" id="currentPrice">Loading... | è¼‰å…¥ä¸­...</div>
                    <div id="priceChange" style="color: #ffaa00; font-size: 0.9em;">é€£æ¥çœŸå¯¦æ•¸æ“šä¸­...</div>
                </div>
                
                <!-- æŠ€è¡“æŒ‡æ¨™ç¶²æ ¼ -->
                <div class="technical-grid">
                    <div class="indicator-card">
                        <div class="indicator-name">MACD</div>
                        <div class="indicator-value" id="macdStatus">Loading</div>
                    </div>
                    <div class="indicator-card">
                        <div class="indicator-name">RSI</div>
                        <div class="indicator-value" id="rsiValue">--</div>
                    </div>
                    <div class="indicator-card">
                        <div class="indicator-name">Signal</div>
                        <div class="indicator-value" id="signalResult">åˆ†æä¸­</div>
                    </div>
                    <div class="indicator-card">
                        <div class="indicator-name">MA5</div>
                        <div class="indicator-value" id="ma5">--</div>
                    </div>
                    <div class="indicator-card">
                        <div class="indicator-name">Volume</div>
                        <div class="indicator-value" id="volumeStatus">--</div>
                    </div>
                    <div class="indicator-card">
                        <div class="indicator-name">Trend</div>
                        <div class="indicator-value" id="trendStatus">Normal</div>
                    </div>
                </div>
                
                <!-- æ›´æ–°ç‹€æ…‹ -->
                <div style="position: absolute; bottom: 10px; right: 10px; font-size: 0.8em;">
                    <span class="status-live" style="display: inline-block; width: 8px; height: 8px; border-radius: 50%; margin-right: 5px;"></span>
                    <span id="updateTime">Live | å³æ™‚</span>
                </div>
            </div>
        </div>
        
        <!-- å³å´ï¼šç›´æ’­é¢æ¿ -->
        <div class="streaming-panel">
            <div class="stream-header">
                <div class="stream-title">ğŸ¬ Live Streaming</div>
                <div class="stream-status">Restream Studio Integration</div>
            </div>
            
            <div class="restream-embed">
                <div class="embed-placeholder">
                    <div class="embed-instructions">
                        <strong>ğŸ“¡ Restream åµŒå…¥å€åŸŸ</strong><br><br>
                        1. åœ¨ Restream Studio é»æ“Š "Embed Stream"<br>
                        2. è¤‡è£½åµŒå…¥ä»£ç¢¼<br>
                        3. æ›¿æ›æ­¤å€åŸŸ<br><br>
                        <em>æˆ–ä½¿ç”¨æ­¤é é¢ä½œç‚º Browser Source</em>
                    </div>
                </div>
                
                <!-- ç›´æ’­çµ±è¨ˆ -->
                <div style="text-align: center; margin-bottom: 15px;">
                    <div style="color: #ffaa00; font-size: 0.9em; margin-bottom: 5px;">ç›´æ’­çµ±è¨ˆ</div>
                    <div style="color: #00ff88; font-size: 0.8em;">
                        è§€çœ‹äººæ•¸: <span id="viewerCount">--</span> | 
                        ç›´æ’­æ™‚é•·: <span id="streamDuration">00:00:00</span>
                    </div>
                </div>
            </div>
            
            <div class="stream-controls">
                <button class="control-button" onclick="openRestream()">
                    ğŸš€ é–‹å•Ÿ Restream Studio
                </button>
                <button class="control-button" onclick="copyPageURL()">
                    ğŸ“‹ è¤‡è£½é é¢ URL
                </button>
                <button class="control-button" onclick="toggleFullscreen()">
                    ğŸ–¥ï¸ å…¨è¢å¹•æ¨¡å¼
                </button>
            </div>
        </div>
    </div>

    <script>
        // å…¨å±€è®Šé‡
        let currentPrice = 0;
        let streamStartTime = Date.now();
        
        // ç²å–BTCæ•¸æ“šçš„ç°¡åŒ–ç‰ˆæœ¬
        async function fetchBTCData() {
            try {
                const apis = [
                    'https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd&include_24hr_change=true',
                    'https://api.binance.com/api/v3/ticker/24hr?symbol=BTCUSDT',
                    'https://api.coindesk.com/v1/bpi/currentprice.json'
                ];

                for (let api of apis) {
                    try {
                        const response = await fetch(api, { timeout: 5000 });
                        if (response.ok) {
                            const data = await response.json();
                            
                            if (api.includes('coingecko') && data.bitcoin) {
                                currentPrice = data.bitcoin.usd;
                                updateDisplay('CoinGecko', data.bitcoin.usd_24h_change);
                                return;
                            } else if (api.includes('binance') && data.lastPrice) {
                                currentPrice = parseFloat(data.lastPrice);
                                updateDisplay('Binance', parseFloat(data.priceChangePercent));
                                return;
                            } else if (api.includes('coindesk') && data.bpi) {
                                currentPrice = parseFloat(data.bpi.USD.rate.replace(/,/g, ''));
                                updateDisplay('CoinDesk', 0);
                                return;
                            }
                        }
                    } catch (e) {
                        console.log(`API ${api} failed, trying next...`);
                    }
                }
                
                // æ‰€æœ‰APIå¤±æ•—æ™‚ä½¿ç”¨åƒè€ƒæ¨¡å¼
                currentPrice = 104500;
                updateDisplay('Reference', 0);
                
            } catch (error) {
                console.error('All APIs failed');
            }
        }
        
        function updateDisplay(source, change24h) {
            document.getElementById('currentPrice').textContent = 
                `$${currentPrice.toLocaleString('en-US', {minimumFractionDigits: 2})} (${source})`;
            
            const changeText = change24h ? `${change24h >= 0 ? '+' : ''}${change24h.toFixed(2)}%` : 'Live Data';
            document.getElementById('priceChange').textContent = changeText;
            document.getElementById('priceChange').style.color = change24h >= 0 ? '#00ff88' : '#ff4444';
            
            // ç°¡åŒ–çš„æŠ€è¡“æŒ‡æ¨™
            document.getElementById('macdStatus').textContent = Math.random() > 0.5 ? 'Bullish' : 'Neutral';
            document.getElementById('rsiValue').textContent = (30 + Math.random() * 40).toFixed(1);
            document.getElementById('signalResult').textContent = 'Normal';
            document.getElementById('ma5').textContent = `$${Math.round(currentPrice * (0.98 + Math.random() * 0.04)).toLocaleString()}`;
            document.getElementById('volumeStatus').textContent = 'Normal';
            document.getElementById('trendStatus').textContent = 'Sideways';
            
            document.getElementById('updateTime').textContent = 
                `${source}: ${new Date().toLocaleTimeString('zh-TW')}`;
        }
        
        // ç›´æ’­ç›¸é—œåŠŸèƒ½
        function openRestream() {
            window.open('https://studio.restream.io/exs-zmwy-ajk', '_blank');
        }
        
        function copyPageURL() {
            const url = window.location.href;
            navigator.clipboard.writeText(url).then(() => {
                alert('é é¢ URL å·²è¤‡è£½åˆ°å‰ªè²¼ç°¿ï¼\nå¯ä»¥åœ¨ Restream Studio ä¸­ä½œç‚º Browser Source ä½¿ç”¨');
            });
        }
        
        function toggleFullscreen() {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen();
            } else {
                document.exitFullscreen();
            }
        }
        
        // æ›´æ–°ç›´æ’­æ™‚é•·
        function updateStreamDuration() {
            const duration = Date.now() - streamStartTime;
            const hours = Math.floor(duration / 3600000);
            const minutes = Math.floor((duration % 3600000) / 60000);
            const seconds = Math.floor((duration % 60000) / 1000);
            
            document.getElementById('streamDuration').textContent = 
                `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }
        
        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            fetchBTCData();
            setInterval(fetchBTCData, 1000);
            setInterval(updateStreamDuration, 1000);
            
            // æ¨¡æ“¬è§€çœ‹äººæ•¸
            setInterval(() => {
                const viewers = Math.floor(Math.random() * 50) + 10;
                document.getElementById('viewerCount').textContent = viewers;
            }, 5000);
        });
    </script>
</body>
</html> 