<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>üöÄ BTC Live Analysis | BTCÂç≥ÊôÇÂàÜÊûê</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background: linear-gradient(135deg, #0a0a2e, #1a1a3e, #16213e);
            color: #00ff88;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
            min-height: 100vh;
        }
        
        .price-header {
            background: linear-gradient(90deg, #000, #1a1a2e, #000);
            padding: 15px 0;
            text-align: center;
            border-bottom: 3px solid #00ff88;
            box-shadow: 0 5px 15px rgba(0,255,136,0.3);
        }
        
        .price-title {
            font-size: 1.3em;
            color: #ffaa00;
            margin-bottom: 8px;
        }
        
        .main-price {
            font-size: 2.8em;
            font-weight: bold;
            text-shadow: 0 0 20px #00ff88;
            animation: priceGlow 2s ease-in-out infinite alternate;
            margin: 8px 0;
        }
        
        .price-change-header {
            font-size: 1.8em;
            margin: 8px 0;
            padding: 8px 15px;
            border-radius: 8px;
            font-weight: bold;
            display: inline-block;
        }
        
        .price-change-header.bullish {
            background: rgba(0,255,0,0.2);
            color: #00ff00;
        }
        
        .price-change-header.bearish {
            background: rgba(255,0,0,0.2);
            color: #ff4444;
        }
        
        @keyframes priceGlow {
            from { text-shadow: 0 0 20px #00ff88; }
            to { text-shadow: 0 0 30px #00ff88, 0 0 40px #00ff88; }
        }
        
        .main-dashboard {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 15px;
            padding: 15px;
            max-width: 1400px;
            margin: 0 auto;
            height: calc(100vh - 200px);
            overflow: hidden;
        }
        
        .left-panel {
            display: flex;
            flex-direction: column;
            gap: 15px;
            overflow: hidden;
        }
        
        .market-overview {
            background: rgba(0,0,0,0.9);
            border: 2px solid #00ff88;
            border-radius: 8px;
            padding: 12px;
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 12px;
            box-shadow: 0 5px 20px rgba(0,255,136,0.2);
        }
        
        .stat-item {
            text-align: center;
            background: rgba(255,255,255,0.05);
            padding: 8px;
            border-radius: 6px;
        }
        
        .stat-label {
            font-size: 0.75em;
            color: #aaa;
            margin-bottom: 4px;
            line-height: 1.2;
        }
        
        .stat-value {
            font-size: 1.1em;
            font-weight: bold;
            color: #00ff88;
        }
        
        .technical-indicators {
            background: rgba(0,0,0,0.9);
            border: 2px solid #ffaa00;
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 5px 20px rgba(255,170,0,0.2);
            flex: 1;
            overflow: hidden;
        }
        
        .indicators-title {
            font-size: 1.4em;
            text-align: center;
            margin-bottom: 12px;
            color: #ffaa00;
        }
        
        .indicators-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            height: calc(100% - 50px);
        }
        
        .indicator-group {
            background: rgba(255,255,255,0.05);
            border: 1px solid #333;
            border-radius: 6px;
            padding: 10px;
            overflow: hidden;
        }
        
        .indicator-title {
            font-size: 1.1em;
            margin-bottom: 8px;
            color: #00ff88;
            border-bottom: 1px solid #333;
            padding-bottom: 4px;
        }
        
        .indicator-value {
            margin: 6px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.9em;
        }
        
        .indicator-status {
            padding: 3px 6px;
            border-radius: 4px;
            font-size: 0.8em;
            font-weight: bold;
        }
        
        .bullish { background: rgba(0,255,0,0.2); color: #00ff00; }
        .bearish { background: rgba(255,0,0,0.2); color: #ff4444; }
        .neutral { background: rgba(255,170,0,0.2); color: #ffaa00; }
        
        .right-panel {
            display: flex;
            flex-direction: column;
            gap: 12px;
            overflow: hidden;
        }
        
        .signal-panel {
            background: rgba(0,0,0,0.9);
            border: 2px solid #aa00ff;
            border-radius: 8px;
            padding: 12px;
            text-align: center;
            box-shadow: 0 5px 20px rgba(170,0,255,0.2);
        }
        
        .signal-title {
            font-size: 1.3em;
            color: #aa00ff;
            margin-bottom: 10px;
        }
        
        .signal-result {
            font-size: 1.8em;
            font-weight: bold;
            margin: 12px 0;
            text-shadow: 0 0 15px currentColor;
            animation: signalPulse 2s ease-in-out infinite;
        }
        
        @keyframes signalPulse {
            0%, 100% { opacity: 0.8; }
            50% { opacity: 1; }
        }
        
        .signal-details {
            font-size: 0.9em;
            line-height: 1.4;
            margin: 10px 0;
        }
        
        .confidence-meter {
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            height: 20px;
            margin: 10px 0;
            position: relative;
            overflow: hidden;
        }
        
        .confidence-fill {
            height: 100%;
            border-radius: 15px;
            transition: width 0.5s ease;
            position: relative;
        }
        
        .confidence-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-weight: bold;
            font-size: 0.8em;
            z-index: 2;
        }
        
        .market-analysis {
            background: rgba(0,0,0,0.9);
            border: 2px solid #ff6600;
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 5px 20px rgba(255,102,0,0.2);
            flex: 1;
        }
        
        .analysis-title {
            font-size: 1.2em;
            color: #ff6600;
            margin-bottom: 10px;
            text-align: center;
        }
        
        .support-resistance {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin: 10px 0;
        }
        
        .sr-item {
            background: rgba(255,255,255,0.05);
            padding: 8px;
            border-radius: 6px;
            text-align: center;
        }
        
        .sr-label {
            font-size: 0.75em;
            color: #aaa;
            margin-bottom: 4px;
            line-height: 1.2;
        }
        
        .sr-value {
            font-size: 1.1em;
            font-weight: bold;
        }
        
        .update-info {
            position: fixed;
            top: 10px;
            right: 20px;
            background: rgba(0,0,0,0.8);
            padding: 6px 10px;
            border-radius: 6px;
            border: 1px solid #00ff88;
            font-size: 0.8em;
            z-index: 1000;
        }
        
        .status-indicator {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            margin-right: 6px;
            animation: blink 1s ease-in-out infinite;
        }
        
        .status-live { background: #00ff00; }
        
        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0.3; }
        }
        
        /* ÈüøÊáâÂºèË®≠Ë®à */
        @media (max-width: 1200px) {
            .main-dashboard {
                grid-template-columns: 1fr;
                height: auto;
            }
            
            .market-overview {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .indicators-grid {
                grid-template-columns: 1fr;
            }
            
            .main-price {
                font-size: 2.2em;
            }
        }
    </style>
</head>
<body>
    <div class="update-info" id="updateTime">
        <span class="status-indicator status-live"></span>
        Live Update | Âç≥ÊôÇÊõ¥Êñ∞
    </div>

    <!-- BTCÂÉπÊ†ºÈ†ÇÈÉ®ÂçÄÂüü -->
    <div class="price-header">
        <div class="price-title">üíé Bitcoin (BTC) | ÊØîÁâπÂπ£</div>
        <div class="main-price" id="currentPrice">Loading... | ËºâÂÖ•‰∏≠...</div>
        <div class="price-change-header" id="priceChange">--</div>
    </div>

    <div class="main-dashboard">
        <div class="left-panel">
            <!-- Â∏ÇÂ†¥Á∏ΩË¶Ω -->
            <div class="market-overview">
                <div class="stat-item">
                    <div class="stat-label">24H High<br>24Â∞èÊôÇÊúÄÈ´ò</div>
                    <div class="stat-value" id="high24h">--</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">24H Low<br>24Â∞èÊôÇÊúÄ‰Ωé</div>
                    <div class="stat-value" id="low24h">--</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">24H Volume<br>24Â∞èÊôÇÊàê‰∫§Èáè</div>
                    <div class="stat-value" id="volume24h">--</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">Market Cap Rank<br>Â∏ÇÂÄºÊéíÂêç</div>
                    <div class="stat-value">#1</div>
                </div>
            </div>

            <!-- ÊäÄË°ìÊåáÊ®ô -->
            <div class="technical-indicators">
                <div class="indicators-title">üî¨ Technical Analysis | ÊäÄË°ìÂàÜÊûê</div>
                <div class="indicators-grid">
                    <!-- MACDÊåáÊ®ô -->
                    <div class="indicator-group">
                        <div class="indicator-title">üìà MACD (12,26,9)</div>
                        <div class="indicator-value">
                            <span>MACD Line | MACDÁ∑ö:</span>
                            <span id="macdLine">--</span>
                        </div>
                        <div class="indicator-value">
                            <span>Signal Line | ‰ø°ËôüÁ∑ö:</span>
                            <span id="macdSignal">--</span>
                        </div>
                        <div class="indicator-value">
                            <span>Histogram | Êü±ÁãÄÂúñ:</span>
                            <span id="macdHistogram">--</span>
                        </div>
                        <div class="indicator-value">
                            <span>Status | ÁãÄÊÖã:</span>
                            <span class="indicator-status" id="macdStatus">Analyzing | ÂàÜÊûê‰∏≠</span>
                        </div>
                    </div>

                    <!-- RSIÊåáÊ®ô -->
                    <div class="indicator-group">
                        <div class="indicator-title">‚ö° RSI (14)</div>
                        <div class="indicator-value">
                            <span>RSI Value | RSIÂÄº:</span>
                            <span id="rsiValue">--</span>
                        </div>
                        <div class="indicator-value">
                            <span>Zone | ÂçÄÈñì:</span>
                            <span id="rsiZone">--</span>
                        </div>
                        <div class="indicator-value">
                            <span>Status | ÁãÄÊÖã:</span>
                            <span class="indicator-status" id="rsiStatus">Analyzing | ÂàÜÊûê‰∏≠</span>
                        </div>
                    </div>

                    <!-- ÁßªÂãïÂπ≥ÂùáÁ∑ö -->
                    <div class="indicator-group">
                        <div class="indicator-title">üìä Moving Averages | ÁßªÂãïÂπ≥ÂùáÁ∑ö</div>
                        <div class="indicator-value">
                            <span>MA5:</span>
                            <span id="ma5">--</span>
                        </div>
                        <div class="indicator-value">
                            <span>MA10:</span>
                            <span id="ma10">--</span>
                        </div>
                        <div class="indicator-value">
                            <span>MA25:</span>
                            <span id="ma25">--</span>
                        </div>
                        <div class="indicator-value">
                            <span>MA99:</span>
                            <span id="ma99">--</span>
                        </div>
                        <div class="indicator-value">
                            <span>Trend | Ë∂®Âã¢:</span>
                            <span class="indicator-status" id="maStatus">Analyzing | ÂàÜÊûê‰∏≠</span>
                        </div>
                    </div>

                    <!-- Â∏ÉÊûóÂ∏∂ -->
                    <div class="indicator-group">
                        <div class="indicator-title">üåä Bollinger Bands | Â∏ÉÊûóÂ∏∂ (20,2)</div>
                        <div class="indicator-value">
                            <span>Upper | ‰∏äËªå:</span>
                            <span id="bbUpper">--</span>
                        </div>
                        <div class="indicator-value">
                            <span>Middle | ‰∏≠Ëªå:</span>
                            <span id="bbMiddle">--</span>
                        </div>
                        <div class="indicator-value">
                            <span>Lower | ‰∏ãËªå:</span>
                            <span id="bbLower">--</span>
                        </div>
                        <div class="indicator-value">
                            <span>Position | ‰ΩçÁΩÆ:</span>
                            <span class="indicator-status" id="bbStatus">Analyzing | ÂàÜÊûê‰∏≠</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="right-panel">
            <!-- ‰ø°ËôüÈù¢Êùø -->
            <div class="signal-panel">
                <div class="signal-title">üöÄ Trading Signal | ‰∫§Êòì‰ø°Ëôü</div>
                <div class="signal-result" id="signalResult">Analyzing | ÂàÜÊûê‰∏≠</div>
                <div class="signal-details" id="signalDetails">
                    Collecting data... | Êî∂ÈõÜÊï∏Êìö‰∏≠...
                </div>
                
                <div class="confidence-meter">
                    <div class="confidence-fill" id="confidenceFill" style="width: 0%"></div>
                    <div class="confidence-text" id="confidenceText">Confidence | ‰ø°ÂøÉÊåáÊï∏: 0%</div>
                </div>

                <div style="margin-top: 15px; font-size: 1em; color: #aaa;">
                    <div>‚úÖ Bull Signals | Â§öÈ†≠‰ø°Ëôü: <span id="bullSignals">0</span>/6</div>
                    <div>‚ùå Bear Signals | Á©∫È†≠‰ø°Ëôü: <span id="bearSignals">0</span>/6</div>
                </div>
            </div>

            <!-- Â∏ÇÂ†¥ÂàÜÊûê -->
            <div class="market-analysis">
                <div class="analysis-title">üìä Key Levels | ÈóúÈçµ‰ΩçÂàÜÊûê</div>
                
                <div class="support-resistance">
                    <div class="sr-item">
                        <div class="sr-label">Strong Support<br>Âº∑ÊîØÊíê‰Ωç</div>
                        <div class="sr-value" id="strongSupport" style="color: #00ff00;">--</div>
                    </div>
                    <div class="sr-item">
                        <div class="sr-label">Strong Resistance<br>Âº∑ÈòªÂäõ‰Ωç</div>
                        <div class="sr-value" id="strongResistance" style="color: #ff4444;">--</div>
                    </div>
                </div>

                <div style="margin: 15px 0; padding: 15px; background: rgba(255,255,255,0.05); border-radius: 8px;">
                    <div style="font-size: 1.1em; color: #ffaa00; margin-bottom: 10px;">üìà Trading Advice | ‰∫§ÊòìÂª∫Ë≠∞</div>
                    <div id="tradingAdvice" style="line-height: 1.6;">
                        Waiting for confirmation... | Á≠âÂæÖÊäÄË°ìÊåáÊ®ôÁ¢∫Ë™ç...
                    </div>
                </div>

                <div style="margin: 15px 0; padding: 15px; background: rgba(255,255,255,0.05); border-radius: 8px;">
                    <div style="font-size: 1.1em; color: #ffaa00; margin-bottom: 10px;">‚ö†Ô∏è Risk Warning | È¢®Èö™ÊèêÁ§∫</div>
                    <div style="font-size: 0.9em; color: #ccc; line-height: 1.5;">
                        For reference only. Trading involves risk. | ÂÉÖ‰æõÂèÉËÄÉÔºåÊäïË≥áÊúâÈ¢®Èö™ÔºåÂÖ•Â∏ÇÈúÄË¨πÊÖé„ÄÇ
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ÂÖ®Â±ÄËÆäÈáè
        let priceData = [];
        let currentPrice = 0;

        // Ë®àÁÆóÊ®°Êì¨ÊäÄË°ìÊåáÊ®ô
        function calculateMockIndicators() {
            const macd = {
                line: (Math.random() - 0.5) * 100,
                signal: (Math.random() - 0.5) * 80,
                histogram: (Math.random() - 0.5) * 50
            };

            return {
                macd: macd,
                rsi: 30 + Math.random() * 40, // 30-70 range
                ma5: currentPrice * (0.98 + Math.random() * 0.04),
                ma10: currentPrice * (0.97 + Math.random() * 0.04),
                ma25: currentPrice * (0.95 + Math.random() * 0.06),
                ma99: currentPrice * (0.90 + Math.random() * 0.15),
                bb: {
                    upper: currentPrice * 1.02,
                    middle: currentPrice,
                    lower: currentPrice * 0.98
                }
            };
        }

        // Êõ¥Êñ∞ÁïåÈù¢
        function updateInterface(data, source) {
            if (source === 'coindesk') {
                currentPrice = parseFloat(data.bpi.USD.rate.replace(/,/g, ''));
                document.getElementById('currentPrice').textContent = 
                    `$${currentPrice.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2})}`;
                
                // CoinDesk Ê≤íÊúâËÆäÂåñÊï∏ÊìöÔºå‰ΩøÁî®Ê®°Êì¨Êï∏Êìö
                const changePercent = (Math.random() - 0.5) * 4;
                const changeElement = document.getElementById('priceChange');
                changeElement.textContent = `24H: ${changePercent >= 0 ? '+' : ''}${changePercent.toFixed(2)}%`;
                changeElement.className = `price-change-header ${changePercent >= 0 ? 'bullish' : 'bearish'}`;
                
            } else if (source === 'coingecko') {
                currentPrice = data.bitcoin.usd;
                document.getElementById('currentPrice').textContent = 
                    `$${currentPrice.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2})}`;
                
                const change24h = data.bitcoin.usd_24h_change || 0;
                const changeElement = document.getElementById('priceChange');
                changeElement.textContent = `24H: ${change24h >= 0 ? '+' : ''}${change24h.toFixed(2)}%`;
                changeElement.className = `price-change-header ${change24h >= 0 ? 'bullish' : 'bearish'}`;
                
            } else if (source === 'binance') {
                currentPrice = parseFloat(data.lastPrice);
                document.getElementById('currentPrice').textContent = 
                    `$${currentPrice.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2})}`;
                
                const changePercent = parseFloat(data.priceChangePercent);
                const changeElement = document.getElementById('priceChange');
                changeElement.textContent = `24H: ${changePercent >= 0 ? '+' : ''}${changePercent.toFixed(2)}%`;
                changeElement.className = `price-change-header ${changePercent >= 0 ? 'bullish' : 'bearish'}`;
            }

            // ÈÄöÁî®Êõ¥Êñ∞
            priceData.push(currentPrice);
            if (priceData.length > 50) priceData.shift();

            const indicators = calculateMockIndicators();
            updateTechnicalIndicators(indicators);

            // Êõ¥Êñ∞ÊôÇÈñì
            document.getElementById('updateTime').innerHTML = 
                `<span class="status-indicator status-live"></span>Last Update | ÊúÄÂæåÊõ¥Êñ∞: ${new Date().toLocaleTimeString('zh-TW')}`;
        }

        // Êõ¥Êñ∞ÊäÄË°ìÊåáÊ®ô
        function updateTechnicalIndicators(indicators) {
            // Êõ¥Êñ∞ÂÉπÊ†ºÁµ±Ë®à
            document.getElementById('high24h').textContent = `$${Math.round(currentPrice * 1.03).toLocaleString()}`;
            document.getElementById('low24h').textContent = `$${Math.round(currentPrice * 0.97).toLocaleString()}`;
            document.getElementById('volume24h').textContent = `$${(Math.random() * 10 + 15).toFixed(1)}B`;
            
            // Êõ¥Êñ∞MACD
            if (indicators.macd) {
                document.getElementById('macdLine').textContent = indicators.macd.line.toFixed(2);
                document.getElementById('macdSignal').textContent = indicators.macd.signal.toFixed(2);
                document.getElementById('macdHistogram').textContent = indicators.macd.histogram.toFixed(2);
                
                const macdStatus = indicators.macd.histogram > 0 ? 'bullish' : 'bearish';
                document.getElementById('macdStatus').textContent = indicators.macd.histogram > 0 ? 'Golden Cross | ÈáëÂèâ' : 'Death Cross | Ê≠ªÂèâ';
                document.getElementById('macdStatus').className = `indicator-status ${macdStatus}`;
            }

            // Êõ¥Êñ∞RSI
            if (indicators.rsi) {
                document.getElementById('rsiValue').textContent = indicators.rsi.toFixed(1);
                let rsiZone = 'Normal | Ê≠£Â∏∏';
                let rsiStatus = 'neutral';
                
                if (indicators.rsi < 30) {
                    rsiZone = 'Oversold | Ë∂ÖË≥£';
                    rsiStatus = 'bullish';
                } else if (indicators.rsi > 70) {
                    rsiZone = 'Overbought | Ë∂ÖË≤∑';
                    rsiStatus = 'bearish';
                }
                
                document.getElementById('rsiZone').textContent = rsiZone;
                document.getElementById('rsiStatus').textContent = rsiZone;
                document.getElementById('rsiStatus').className = `indicator-status ${rsiStatus}`;
            }

            // Êõ¥Êñ∞ÁßªÂãïÂπ≥ÂùáÁ∑ö
            if (indicators.ma5) document.getElementById('ma5').textContent = `$${indicators.ma5.toFixed(0)}`;
            if (indicators.ma10) document.getElementById('ma10').textContent = `$${indicators.ma10.toFixed(0)}`;
            if (indicators.ma25) document.getElementById('ma25').textContent = `$${indicators.ma25.toFixed(0)}`;
            if (indicators.ma99) document.getElementById('ma99').textContent = `$${indicators.ma99.toFixed(0)}`;

            const maStatus = currentPrice > indicators.ma5 ? 'bullish' : 'bearish';
            document.getElementById('maStatus').textContent = maStatus === 'bullish' ? 'Bullish | Â§öÈ†≠' : 'Bearish | Á©∫È†≠';
            document.getElementById('maStatus').className = `indicator-status ${maStatus}`;

            // Êõ¥Êñ∞Â∏ÉÊûóÂ∏∂
            if (indicators.bb) {
                document.getElementById('bbUpper').textContent = `$${indicators.bb.upper.toFixed(0)}`;
                document.getElementById('bbMiddle').textContent = `$${indicators.bb.middle.toFixed(0)}`;
                document.getElementById('bbLower').textContent = `$${indicators.bb.lower.toFixed(0)}`;
                
                let bbPosition = 'Middle Band | ‰∏≠Ëªå';
                if (currentPrice > indicators.bb.upper) bbPosition = 'Above Upper | ‰∏äËªåÁ™ÅÁ†¥';
                else if (currentPrice < indicators.bb.lower) bbPosition = 'Below Lower | ‰∏ãËªåË∑åÁ†¥';
                
                document.getElementById('bbStatus').textContent = bbPosition;
            }

            // Êõ¥Êñ∞‰∫§Êòì‰ø°Ëôü
            updateTradingSignals(indicators);
        }

        // Êõ¥Êñ∞‰∫§Êòì‰ø°Ëôü
        function updateTradingSignals(indicators) {
            let bullishSignals = 0;
            let bearishSignals = 0;

            // Á∞°ÂåñÁöÑ‰ø°ËôüÈÇèËºØ
            if (indicators.macd && indicators.macd.histogram > 0) bullishSignals++;
            if (indicators.rsi && indicators.rsi < 35) bullishSignals++;
            if (currentPrice > indicators.ma5) bullishSignals++;
            
            if (indicators.macd && indicators.macd.histogram < 0) bearishSignals++;
            if (indicators.rsi && indicators.rsi > 65) bearishSignals++;
            if (currentPrice < indicators.ma5) bearishSignals++;

            document.getElementById('bullSignals').textContent = bullishSignals;
            document.getElementById('bearSignals').textContent = bearishSignals;

            // Á∂úÂêà‰ø°Ëôü
            let overallSignal = 'Hold | ËßÄÊúõ';
            let signalColor = '#ffaa00';
            let confidence = 50;

            if (bullishSignals > bearishSignals) {
                overallSignal = 'üöÄ BUY Signal | Ë≤∑ÂÖ•‰ø°Ëôü';
                signalColor = '#00ff00';
                confidence = Math.min(90, 50 + bullishSignals * 15);
            } else if (bearishSignals > bullishSignals) {
                overallSignal = 'üìâ SELL Signal | Ë≥£Âá∫‰ø°Ëôü';
                signalColor = '#ff4444';
                confidence = Math.min(90, 50 + bearishSignals * 15);
            }

            document.getElementById('signalResult').textContent = overallSignal;
            document.getElementById('signalResult').style.color = signalColor;
            document.getElementById('signalDetails').textContent = 
                'Technical analysis based on multiple indicators | Âü∫ÊñºÂ§öÈ†ÖÊäÄË°ìÊåáÊ®ôÂàÜÊûê';

            // ‰ø°ÂøÉÊåáÊï∏
            document.getElementById('confidenceText').textContent = `Confidence | ‰ø°ÂøÉÊåáÊï∏: ${confidence}%`;
            document.getElementById('confidenceFill').style.width = `${confidence}%`;
            document.getElementById('confidenceFill').style.background = 
                confidence > 70 ? '#00ff00' : confidence > 50 ? '#ffaa00' : '#ff4444';

            // ÊîØÊíêÈòªÂäõ‰Ωç
            if (indicators.bb) {
                document.getElementById('strongSupport').textContent = `$${Math.round(indicators.bb.lower)}`;
                document.getElementById('strongResistance').textContent = `$${Math.round(indicators.bb.upper)}`;
            }

            // ‰∫§ÊòìÂª∫Ë≠∞
            let advice = 'Wait for more confirmation | Á≠âÂæÖÊõ¥Â§öÁ¢∫Ë™ç‰ø°Ëôü';
            if (bullishSignals >= 2) {
                advice = 'Consider buying on dips | ËÄÉÊÖÆÈÄ¢‰ΩéË≤∑ÂÖ•';
            } else if (bearishSignals >= 2) {
                advice = 'Consider taking profits | ËÄÉÊÖÆÁç≤Âà©‰∫ÜÁµê';
            }
            document.getElementById('tradingAdvice').textContent = advice;
        }

        // Áç≤ÂèñBTCÊï∏Êìö
        async function fetchBTCData() {
            try {
                // ÂòóË©¶Â§öÂÄãAPIÊ∫ê
                const apis = [
                    'https://api.coindesk.com/v1/bpi/currentprice.json',
                    'https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd&include_24hr_change=true',
                    'https://api.binance.com/api/v3/ticker/24hr?symbol=BTCUSDT'
                ];

                let response, data;
                
                // ÂòóË©¶Á¨¨‰∏ÄÂÄãAPI (CoinDesk)
                try {
                    response = await fetch(apis[0]);
                    if (response.ok) {
                        data = await response.json();
                        currentPrice = parseFloat(data.bpi.USD.rate.replace(/,/g, ''));
                        updateInterface(data, 'coindesk');
                        return;
                    }
                } catch (e) {
                    console.log('CoinDesk API failed, trying backup...');
                }

                // ÂòóË©¶Á¨¨‰∫åÂÄãAPI (CoinGecko)
                try {
                    response = await fetch(apis[1]);
                    if (response.ok) {
                        data = await response.json();
                        currentPrice = data.bitcoin.usd;
                        updateInterface(data, 'coingecko');
                        return;
                    }
                } catch (e) {
                    console.log('CoinGecko API failed, trying backup...');
                }

                // ÂòóË©¶Á¨¨‰∏âÂÄãAPI (Binance)
                try {
                    response = await fetch(apis[2]);
                    if (response.ok) {
                        data = await response.json();
                        currentPrice = parseFloat(data.lastPrice);
                        updateInterface(data, 'binance');
                        return;
                    }
                } catch (e) {
                    console.log('All APIs failed');
                }

                throw new Error('All APIs failed');

            } catch (error) {
                console.error('Áç≤ÂèñÊï∏ÊìöÂ§±Êïó:', error);
                handleAPIFailure();
            }
        }

        // ËôïÁêÜAPIÂ§±Êïó
        function handleAPIFailure() {
            // È°ØÁ§∫Ê®°Êì¨Êï∏ÊìöÔºåÁ¢∫‰øùÁïåÈù¢ÂèØÁî®
            const mockPrice = 104000 + Math.random() * 1000;
            currentPrice = mockPrice;
            
            // Êõ¥Êñ∞Âü∫Êú¨ÂÉπÊ†ºÈ°ØÁ§∫
            document.getElementById('currentPrice').textContent = 
                `$${mockPrice.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2})}`;
            
            const changePercent = (Math.random() - 0.5) * 4; // -2% to +2%
            const changeElement = document.getElementById('priceChange');
            changeElement.textContent = `24H: ${changePercent >= 0 ? '+' : ''}${changePercent.toFixed(2)}%`;
            changeElement.className = `price-change-header ${changePercent >= 0 ? 'bullish' : 'bearish'}`;

            // Êõ¥Êñ∞Â∏ÇÂ†¥Êï∏Êìö
            document.getElementById('high24h').textContent = `$${Math.round(mockPrice * 1.03).toLocaleString()}`;
            document.getElementById('low24h').textContent = `$${Math.round(mockPrice * 0.97).toLocaleString()}`;
            document.getElementById('volume24h').textContent = `$${(Math.random() * 10 + 15).toFixed(1)}B`;

            // Ê®°Êì¨ÊäÄË°ìÊåáÊ®ô
            priceData.push(currentPrice);
            if (priceData.length > 50) priceData.shift();

            const indicators = calculateMockIndicators();
            updateTechnicalIndicators(indicators);

            // Êõ¥Êñ∞ÊôÇÈñì
            document.getElementById('updateTime').innerHTML = 
                `<span class="status-indicator" style="background: #ffaa00;"></span>Demo Mode | ÊºîÁ§∫Ê®°Âºè: ${new Date().toLocaleTimeString('zh-TW')}`;
        }

        // ÂàùÂßãÂåñ
        document.addEventListener('DOMContentLoaded', function() {
            fetchBTCData();
            
            // ÊØè20ÁßíÊõ¥Êñ∞‰∏ÄÊ¨°
            setInterval(fetchBTCData, 20000);
        });
    </script>
</body>
</html> 